<html>
<head>
<title>utils.js</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.ln { color: rgb(0,0,0); font-weight: normal; font-style: normal; }
.s0 { color: rgb(128,128,128); font-style: italic; }
.s1 { color: rgb(0,0,0); }
.s2 { color: rgb(0,0,128); font-weight: bold; }
.s3 { color: rgb(0,0,255); }
</style>
</head>
<BODY BGCOLOR="#ffffff">
<TABLE CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#C0C0C0" >
<TR><TD><CENTER>
<FONT FACE="Arial, Helvetica" COLOR="#000000">
utils.js</FONT>
</center></TD></TR></TABLE>
<pre>
<span class="s0">/** 
 * Created by acastells on 02/07/2016. 
 */</span><span class="s1"> 
</span><span class="s2">var </span><span class="s1">utils = { 
    fillCreep: </span><span class="s2">function </span><span class="s1">(creep) { 
        </span><span class="s2">var </span><span class="s1">source = creep.room.find(FIND_STRUCTURES, { 
            filter: (structure) =&gt; { 
                </span><span class="s2">return </span><span class="s1">(structure.structureType == STRUCTURE_SPAWN || 
                    structure.structureType == STRUCTURE_CONTAINER) &amp;&amp; structure.energy &gt;= (structure.energyCapacity/</span><span class="s3">2</span><span class="s1">); 
            } 
        }); 
        </span><span class="s2">var </span><span class="s1">targetStructure = creep.pos.findClosestByRange(source); 
        targetStructure.transferEnergy(creep); 
    }, 
    GetCreepsByRole: </span><span class="s2">function </span><span class="s1">(role){ 
        </span><span class="s2">var </span><span class="s1">CreepList = []; 
        </span><span class="s2">for </span><span class="s1">(</span><span class="s2">var </span><span class="s1">creepname </span><span class="s2">in </span><span class="s1">Game.creeps){ 
            </span><span class="s2">if </span><span class="s1">(Game.creeps[creepname].memory.role == role){ 
                CreepList.push(Game.creeps[creepname]); 
            } 
        } 
        </span><span class="s2">return </span><span class="s1">CreepList 
    }, 
        diff: </span><span class="s2">function</span><span class="s1">(a1, a2) { 
        </span><span class="s2">var </span><span class="s1">result = []; 
        </span><span class="s2">for </span><span class="s1">(</span><span class="s2">var </span><span class="s1">i = </span><span class="s3">0</span><span class="s1">; i &lt; a1.length; i++) { 
            </span><span class="s2">if </span><span class="s1">(a2.indexOf(a1[i]) === -</span><span class="s3">1</span><span class="s1">) { 
                result.push(a1[i]); 
            } 
        } 
        </span><span class="s2">return </span><span class="s1">result; 
    } 
}; 
module.exports = utils;</span></pre>
</body>
</html>